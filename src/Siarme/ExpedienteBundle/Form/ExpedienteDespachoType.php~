<?php

namespace Siarme\ExpedienteBundle\Form;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolver;
use Siarme\ExpedienteBundle\Form\IniciarTramiteType;
use Siarme\AusentismoBundle\Entity\Agente;
use Symfony\Component\Form\Extension\Core\Type\TextareaType;
use Symfony\Component\Form\Extension\Core\Type\TextType;
use Symfony\Component\Form\Extension\Core\Type\CollectionType;
use Symfony\Component\Form\Extension\Core\Type\ChoiceType;
use Tetranz\Select2EntityBundle\Form\Type\Select2EntityType;
use Symfony\Component\Form\Extension\Core\Type\NumberType;

class ExpedienteDespachoType extends AbstractType
{

    /**
     * {@inheritdoc}
     */
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder ->add('numeroGde', NumberType::class,  array('label' => 'Ingrear el número de expediente GDE:'))
                ->add('anioGde', ChoiceType::class, array(
                    'choices' => array( 2017=>'2017',2018=>'2018', 2019=>'2019', 2020=>'2020', 2021=>'2021',2022=>'2022',2023=>'2023',2024=>'2024',2025=>'2025',2026=>'2026',2027=>'2027', 2028=>'2028', 2029=>'2029'),
                       'label'  => 'Año'
                ))
                //->add('extracto',TextareaType::class, array('label' => 'Referencia:','required' => true,'attr' => ['placeholder' => 'Ejemplo: EX-00011124-2018 (DPRH#SSG) - S/ ACCICENTE DE TRABAJO'] ))
                ->add('tipoTramite')
               // ->add('agente', Select2EntityType::class, ['multiple' => false,'remote_route' => 'agente_search','class' => 'AusentismoBundle:Agente','placeholder' => 'Seleccione un Agente',                      ] )
                ->add('clasificacion');            
            $builder->add('tramite', CollectionType::class, array(
            'entry_type' => IniciarTramiteType::class,
            'entry_options' => array('label' => false),
            'label' => false,
        ));

    }/**
     * {@inheritdoc}
     */
    public function configureOptions(OptionsResolver $resolver)
    {
        $resolver->setDefaults(array(
            'data_class' => 'Siarme\ExpedienteBundle\Entity\Expediente'
        ));
    }

    /**
     * {@inheritdoc}
     */
    public function getBlockPrefix()
    {
        return 'siarme_expedientebundle_expediente';
    }


}
